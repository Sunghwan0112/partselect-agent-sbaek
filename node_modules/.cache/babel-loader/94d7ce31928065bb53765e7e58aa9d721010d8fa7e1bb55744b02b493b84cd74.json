{"ast":null,"code":"import _regeneratorRuntime from\"/home/steve/Desktop/Instalily/partselect-chat-agent-sbaek/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/steve/Desktop/Instalily/partselect-chat-agent-sbaek/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";export var getAIMessage=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(userQuery){var res,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"\".concat(process.env.REACT_APP_API_URL,\"/api/chat\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({message:userQuery})});case 3:res=_context.sent;_context.next=6;return res.json();case 6:data=_context.sent;return _context.abrupt(\"return\",{role:\"assistant\",content:data.reply||\"⚠️ No response received from backend.\"});case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);console.error(\"API error:\",_context.t0);return _context.abrupt(\"return\",{role:\"assistant\",content:\"⚠️ Backend is not responding. Please check the server.\"});case 14:case\"end\":return _context.stop();}},_callee,null,[[0,10]]);}));return function getAIMessage(_x){return _ref.apply(this,arguments);};}();","map":{"version":3,"names":["getAIMessage","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","userQuery","res","data","wrap","_callee$","_context","prev","next","fetch","concat","process","env","REACT_APP_API_URL","method","headers","body","JSON","stringify","message","sent","json","abrupt","role","content","reply","t0","console","error","stop","_x","apply","arguments"],"sources":["/home/steve/Desktop/Instalily/partselect-chat-agent-sbaek/src/api/api.js"],"sourcesContent":["export const getAIMessage = async (userQuery) => {\n  try {\n    const res = await fetch(`${process.env.REACT_APP_API_URL}/api/chat`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({ message: userQuery })\n    });\n\n    const data = await res.json();\n\n    return {\n      role: \"assistant\",\n      content: data.reply || \"⚠️ No response received from backend.\"\n    };\n  } catch (err) {\n    console.error(\"API error:\", err);\n    return {\n      role: \"assistant\",\n      content: \"⚠️ Backend is not responding. Please check the server.\"\n    };\n  }\n};\n"],"mappings":"8SAAA,MAAO,IAAM,CAAAA,YAAY,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAOC,SAAS,MAAAC,GAAA,CAAAC,IAAA,QAAAL,mBAAA,GAAAM,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAEtB,CAAAC,KAAK,IAAAC,MAAA,CAAIC,OAAO,CAACC,GAAG,CAACC,iBAAiB,cAAa,CACnEC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAEC,OAAO,CAAElB,SAAU,CAAC,CAC7C,CAAC,CAAC,QANIC,GAAG,CAAAI,QAAA,CAAAc,IAAA,CAAAd,QAAA,CAAAE,IAAA,SAQU,CAAAN,GAAG,CAACmB,IAAI,CAAC,CAAC,QAAvBlB,IAAI,CAAAG,QAAA,CAAAc,IAAA,QAAAd,QAAA,CAAAgB,MAAA,UAEH,CACLC,IAAI,CAAE,WAAW,CACjBC,OAAO,CAAErB,IAAI,CAACsB,KAAK,EAAI,uCACzB,CAAC,UAAAnB,QAAA,CAAAC,IAAA,IAAAD,QAAA,CAAAoB,EAAA,CAAApB,QAAA,aAEDqB,OAAO,CAACC,KAAK,CAAC,YAAY,CAAAtB,QAAA,CAAAoB,EAAK,CAAC,CAAC,OAAApB,QAAA,CAAAgB,MAAA,UAC1B,CACLC,IAAI,CAAE,WAAW,CACjBC,OAAO,CAAE,wDACX,CAAC,2BAAAlB,QAAA,CAAAuB,IAAA,MAAA7B,OAAA,iBAEJ,kBAvBY,CAAAL,YAAYA,CAAAmC,EAAA,SAAAlC,IAAA,CAAAmC,KAAA,MAAAC,SAAA,OAuBxB"},"metadata":{},"sourceType":"module","externalDependencies":[]}